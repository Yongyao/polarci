<UserControl xmlns:toolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"  xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"  x:Class="GeoSearch.SearchingResultPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"        
    mc:Ignorable="d"
    xmlns:converter="clr-namespace:GeoSearch"
    xmlns:myC="clr-namespace:GeoSearch"
    xmlns:myWidgets="clr-namespace:GeoSearch.Widgets"         
    xmlns:m="clr-namespace:Microsoft.Maps.MapControl;assembly=Microsoft.Maps.MapControl"
    d:DesignHeight="400" d:DesignWidth="1000">
    <UserControl.Resources>
        <converter:BingMapsButtonVisibleConverter x:Key="BingMapsButtonVisibleConverter" />
        <converter:OpenLayersButtonVisibleConverter x:Key="OpenLayersButtonVisibleConverter" />
        <converter:SWPViewerButtonVisibleConverter x:Key="SWPViewerButtonVisibleConverter" />
        <converter:OtherVisualizationViewerButtonVisibleConverter x:Key="OtherVisualizationViewerButtonVisibleConverter" />
        <converter:ResourceTypeIconConverter x:Key="ResourceTypeIconConverter" />
        <converter:QoSIconTypeConverter x:Key="QoSIconTypeConverter" />
        <converter:QoSIconVisibilityConverter x:Key="QoSIconVisibilityConverter" />
        <converter:RelevanceConverter x:Key="RelevanceConverter" />
        <converter:ProviderIconVisibilityConverter x:Key="ProviderIconVisibilityConverter" />
        <converter:ProviderIconConverter x:Key="ProviderIconConverter" />
        <converter:KeywordsShowingConverter x:Key="KeywordsShowingConverter" />
        <converter:GetDataButtonVisibleConverter x:Key="GetDataButtonVisibleConverter" />
        <converter:GetDataButtonTextContentConverter x:Key="GetDataButtonTextContentConverter" />
        <converter:GESSDataCOREIconVisibleConverter x:Key="GESSDataCOREIconVisibleConverter" />
    </UserControl.Resources>

    <!--<ScrollViewer HorizontalScrollBarVisibility="auto" VerticalScrollBarVisibility="auto" Name="Out_Container" Padding="0">-->
        <Grid x:Name="LayoutRoot" Background="White" HorizontalAlignment="Center">
            <Grid.RowDefinitions>
                <RowDefinition Height="65"/>
                <RowDefinition Height="25"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="40"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            
            <Grid.Resources>
                <DataTemplate x:Key="RecordTemplate">
                    <Grid Height="auto" MaxHeight="178" Margin="2" Background="#09000000" MaxWidth="800" Width="450" HorizontalAlignment="Center">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="38"/>
                            <RowDefinition Height="22"/>
                            <RowDefinition Height="22"/>
                            <RowDefinition Height="22"/>
                            <RowDefinition MinHeight="22" MaxHeight="38" Height="*"/>
                            <RowDefinition Height="36"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="131"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="120"/>
                        </Grid.ColumnDefinitions>

                        <Grid Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="3">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="22"/>
                                <RowDefinition Height="16"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="135"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Row="0" Grid.Column="0" Grid.RowSpan="2" Orientation="Horizontal">
                                <Image Name="Image_ResourceType" Width="32" Height="32" Source="{Binding Path=Type, Converter={StaticResource ResourceTypeIconConverter}}" Stretch="Fill" HorizontalAlignment="Left" Margin="5,0,0,0" Tag="{Binding Type}">
                                    <ToolTipService.ToolTip>
                                        <ToolTip Background="#FFFFFFAF">
                                            <StackPanel>
                                                <ContentControl Content="{Binding Type, StringFormat='Resource Type: \{0\}'}"/>
                                            </StackPanel>
                                        </ToolTip >
                                    </ToolTipService.ToolTip>
                                </Image>
                                <Image Width="32" Height="32" Source="{Binding Path=Provider, Converter={StaticResource ProviderIconConverter}}" Stretch="Fill" HorizontalAlignment="Left" Margin="2,0,0,0" Visibility="{Binding Path=Provider, Converter={StaticResource ProviderIconVisibilityConverter}}" />
                                <Image Name="Image_ServiceQuality" Width="25" Height="25" Source="{Binding Path=Quality, Converter={StaticResource QoSIconTypeConverter}}" Stretch="Fill" HorizontalAlignment="Left" Margin="2,0,0,0" Visibility="{Binding Path=Quality, Converter={StaticResource QoSIconVisibilityConverter}}" MouseLeftButtonUp="queryAndShowServiceQoSDetailInformation" Tag="{Binding Quality}" MouseEnter="UIElement_MouseEnter" MouseLeave="UIElement_MouseLeave"/>
                            </StackPanel>
                            <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Margin="5,0,28,0">
                                <HyperlinkButton Name="HyperLinkButtonResourceTitle" Content="{Binding Title}"
                                    HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="14" Tag="{Binding MetadataAccessURL}" Click="HyperlinkButton_RecordItemTitle_Click" Foreground="#FF0000A2" FontWeight="Bold" MaxWidth="560">
                                    <ToolTipService.ToolTip>
                                        <ToolTip Background="#FFFFFFAF">
                                            <StackPanel>
                                                <ContentControl Content="{Binding Title, StringFormat='Title: \{0\}'}"/>
                                            </StackPanel>
                                        </ToolTip >
                                    </ToolTipService.ToolTip>
                                </HyperlinkButton>
                            </StackPanel>
                            <Image Grid.Row="0" Grid.Column="2" Source="/GeoSearch;component/images/relevance.png" Margin="-25,0,3,0"/>            
                            <StackPanel Grid.Row="0" Grid.Column="2" Orientation="Horizontal">
                                <TextBlock Text="Relevance: " Foreground="Black" FontWeight="Bold"
                                HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10 0 0 0"/>
                                <TextBlock Text="{Binding Path=Relevance, StringFormat='P1'}" Foreground="Black" FontWeight="Bold"
                                HorizontalAlignment="Left" VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBox Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2" Text="{Binding AccessURL}"
                            HorizontalAlignment="Left" VerticalAlignment="top" FontSize="11" Margin="10,0,3,0" FontWeight="Medium" Foreground="#FF3E7AF2" VerticalContentAlignment="Top" MaxWidth="660" IsReadOnly="True"  Style="{StaticResource ReadOnlyTextBoxStyle}" />
                        </Grid>
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Source"
                        HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="11" Margin="20,0,0,0" FontWeight="Bold" />
                        <converter:CustomTextBlock Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2" Text="{Binding Source}" 
                        HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="11" Margin="5,0,0,0"/>
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Provider"
                        HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="11" Margin="20,0,0,0" FontWeight="Bold" />
                        <TextBox Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2" Text="{Binding Provider}" 
                        HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="11" Margin="5,0,15,0" IsReadOnly="True"  Style="{StaticResource ReadOnlyTextBoxStyle}" />
                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Keywords" 
                        HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="11" Margin="20,0,0,0" FontWeight="Bold" />
                        <TextBox Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="2" Text="{Binding Path=DescriptiveKeywords, Converter={StaticResource KeywordsShowingConverter}}" 
                         HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="11" Margin="5,0,15,0" Foreground="Black" IsReadOnly="True"  Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                        <TextBlock Grid.Row="4" Grid.Column="0" Text="Description" 
                        HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="11" Margin="20,5,0,0" FontWeight="Bold"/>
                        <TextBox Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="2" Text="{Binding Abstract}"
                        HorizontalAlignment="Left" VerticalAlignment="top" FontSize="11" TextWrapping="Wrap" Margin="5,5,15,0" IsReadOnly="True"  Style="{StaticResource ReadOnlyTextBoxStyle}"/>

                        <StackPanel Grid.Row="5" Grid.Column="0" Grid.ColumnSpan="3" Orientation="Horizontal">
                            <Button Name="metadataButton" Width="70" Height="23" Margin="6,0,0,0" Content="Metadata" Tag="{Binding MetadataAccessURL}" Click="MetadataDetailButton_Click">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="Query and view metadata detail information in popup windows"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Button>
                            <Button Name="BingMapsButton" Width="70" Height="23" Margin="6,0,0,0" Content="Bing Maps" Visibility="{Binding Path=Type, Converter={StaticResource OpenLayersButtonVisibleConverter}}" Click="BingMapsButton_Click"  Tag="{Binding RealServiceURL}">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="Visualize OGC WMS in Bing Maps"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Button>
                            <Button Name="SWPButton" Width="70" Height="23" Margin="6,0,0,0" Content="SWP" Visibility="{Binding Path=Type, Converter={StaticResource SWPViewerButtonVisibleConverter}}" Click="SWPButton_Click" Tag="{Binding RealServiceURL}">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="Visualize OGC Service in Spatial Web Portal"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Button>
                            <Button Name="OpenLayersButton" Width="72" Height="23" Margin="6,0,0,0" Content="OpenLayers" Visibility="{Binding Path=Type, Converter={StaticResource OpenLayersButtonVisibleConverter}}" Click="OpenLayersButton_Click" Tag="{Binding RealServiceURL}">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="Visualize OGC Service in OpenLayers"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Button>
                            <Button Name="WWTButton" Width="70" Height="23" Margin="6,0,0,0" Content="World Wide Telescope" Visibility="Collapsed" Click="WWTButton_Click" Tag="{Binding AccessURL}"/>
                            <Button Name="WWButton" Width="70" Height="23" Margin="6,0,0,0" Content="World Wind" Visibility="{Binding Path=Type, Converter={StaticResource OtherVisualizationViewerButtonVisibleConverter}}" Click="WWButton_Click" Tag="{Binding RealServiceURL}">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="Visualizing OGC Service in World Wind Web Version requires extra runtime enviroment and libs,"/>
                                            <ContentControl Content="clike 'help' hyperlink button for more informtion"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Button>
                            <Button Name="GetDataButton" MinWidth="70" Height="23" Margin="20,0,0,0" Content="{Binding AccessURL, Converter={StaticResource GetDataButtonTextContentConverter}}" Visibility="{Binding Path=Type, Converter={StaticResource GetDataButtonVisibleConverter}}" Tag="{Binding AccessURL}" Click="GetDataButton_Click">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="Download geodata"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Button>
                        </StackPanel>
                        <StackPanel Grid.Row="5" Grid.Column="2" Grid.ColumnSpan="1" Orientation="Horizontal" HorizontalAlignment="Right">
                            <Image Name="Image_DaraCORE" Width="50" Height="32" Source="/GeoSearch;component/images/ResourceIdentification/GEO_Data-CORE.png" Stretch="Fill" HorizontalAlignment="Left" Margin="0,0,5,5" Visibility="{Binding Path=isDataCore, Converter={StaticResource GESSDataCOREIconVisibleConverter}}">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="GEOSS Data-CORE"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Image>
                        </StackPanel>
                    </Grid>
                </DataTemplate>

                <DataTemplate x:Key="RecordTemplate_800">
                    <Grid Height="auto" MaxHeight="178" Margin="2" Background="#09000000" MaxWidth="800" Width="800" HorizontalAlignment="Center">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="38"/>
                            <RowDefinition Height="22"/>
                            <RowDefinition Height="22"/>
                            <RowDefinition Height="22"/>
                            <RowDefinition MinHeight="22" MaxHeight="38" Height="*"/>
                            <RowDefinition Height="36"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="131"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="120"/>
                        </Grid.ColumnDefinitions>

                        <Grid Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="3">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="22"/>
                                <RowDefinition Height="16"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="135"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Row="0" Grid.Column="0" Grid.RowSpan="2" Orientation="Horizontal">
                                <Image Name="Image_ResourceType" Width="32" Height="32" Source="{Binding Path=Type, Converter={StaticResource ResourceTypeIconConverter}}" Stretch="Fill" HorizontalAlignment="Left" Margin="5,0,0,0" Tag="{Binding Type}">
                                    <ToolTipService.ToolTip>
                                        <ToolTip Background="#FFFFFFAF">
                                            <StackPanel>
                                                <ContentControl Content="{Binding Type, StringFormat='Resource Type: \{0\}'}"/>
                                            </StackPanel>
                                        </ToolTip >
                                    </ToolTipService.ToolTip>
                                </Image>
                                <Image Width="32" Height="32" Source="{Binding Path=Provider, Converter={StaticResource ProviderIconConverter}}" Stretch="Fill" HorizontalAlignment="Left" Margin="2,0,0,0" Visibility="{Binding Path=Provider, Converter={StaticResource ProviderIconVisibilityConverter}}" />
                                <Image Name="Image_ServiceQuality" Width="25" Height="25" Source="{Binding Path=Quality, Converter={StaticResource QoSIconTypeConverter}}" Stretch="Fill" HorizontalAlignment="Left" Margin="2,0,0,0" Visibility="{Binding Path=Quality, Converter={StaticResource QoSIconVisibilityConverter}}" MouseLeftButtonUp="queryAndShowServiceQoSDetailInformation" Tag="{Binding Quality}" MouseEnter="UIElement_MouseEnter" MouseLeave="UIElement_MouseLeave"/>
                            </StackPanel>
                            <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Margin="5,0,28,0">
                                <HyperlinkButton Name="HyperLinkButtonResourceTitle" Content="{Binding Title}"
                                    HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="14" Tag="{Binding MetadataAccessURL}" Click="HyperlinkButton_RecordItemTitle_Click" Foreground="#FF0000A2" FontWeight="Bold" MaxWidth="560">
                                    <ToolTipService.ToolTip>
                                        <ToolTip Background="#FFFFFFAF">
                                            <StackPanel>
                                                <ContentControl Content="{Binding Title, StringFormat='Title: \{0\}'}"/>
                                            </StackPanel>
                                        </ToolTip >
                                    </ToolTipService.ToolTip>
                                </HyperlinkButton>
                            </StackPanel>
                            <Image Grid.Row="0" Grid.Column="2" Source="/GeoSearch;component/images/relevance.png" Margin="-25,0,3,0"/>
                            <StackPanel Grid.Row="0" Grid.Column="2" Orientation="Horizontal">
                                <TextBlock Text="Relevance: " Foreground="Black" FontWeight="Bold"
                                HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10 0 0 0"/>
                                <TextBlock Text="{Binding Path=Relevance, StringFormat='P1'}" Foreground="Black" FontWeight="Bold"
                                HorizontalAlignment="Left" VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBox Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2" Text="{Binding AccessURL}"
                            HorizontalAlignment="Left" VerticalAlignment="top" FontSize="11" Margin="10,0,3,0" FontWeight="Medium" Foreground="#FF3E7AF2" VerticalContentAlignment="Top" MaxWidth="660" IsReadOnly="True"  Style="{StaticResource ReadOnlyTextBoxStyle}" />
                        </Grid>
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Source"
                        HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="11" Margin="20,0,0,0" FontWeight="Bold" />
                        <converter:CustomTextBlock Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2" Text="{Binding Source}" 
                        HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="11" Margin="5,0,0,0"/>
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Provider"
                        HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="11" Margin="20,0,0,0" FontWeight="Bold" />
                        <TextBox Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2" Text="{Binding Provider}" 
                        HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="11" Margin="5,0,15,0" IsReadOnly="True"  Style="{StaticResource ReadOnlyTextBoxStyle}" />
                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Keywords" 
                        HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="11" Margin="20,0,0,0" FontWeight="Bold" />
                        <TextBox Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="2" Text="{Binding Path=DescriptiveKeywords, Converter={StaticResource KeywordsShowingConverter}}" 
                         HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="11" Margin="5,0,15,0" Foreground="Black" IsReadOnly="True"  Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                        <TextBlock Grid.Row="4" Grid.Column="0" Text="Description" 
                        HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="11" Margin="20,5,0,0" FontWeight="Bold"/>
                        <TextBox Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="2" Text="{Binding Abstract}"
                        HorizontalAlignment="Left" VerticalAlignment="top" FontSize="11" TextWrapping="Wrap" Margin="5,5,15,0" IsReadOnly="True"  Style="{StaticResource ReadOnlyTextBoxStyle}"/>

                        <StackPanel Grid.Row="5" Grid.Column="0" Grid.ColumnSpan="3" Orientation="Horizontal">
                            <Button Name="metadataButton" Width="70" Height="23" Margin="6,0,0,0" Content="Metadata" Tag="{Binding MetadataAccessURL}" Click="MetadataDetailButton_Click">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="Query and view metadata detail information in popup windows"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Button>
                        <Button Name="BingMapsButton" Width="70" Height="23" Margin="6,0,0,0" Content="Bing Maps" Visibility="{Binding Path=Type, Converter={StaticResource BingMapsButtonVisibleConverter}}" Click="BingMapsButton_Click"  Tag="{Binding RealServiceURL}">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="Visualize OGC WMS in Bing Maps"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Button>
                            <Button Name="SWPButton" Width="70" Height="23" Margin="6,0,0,0" Content="SWP" Visibility="{Binding Path=Type, Converter={StaticResource SWPViewerButtonVisibleConverter}}" Click="SWPButton_Click" Tag="{Binding RealServiceURL}">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="Visualize OGC Service in Spatial Web Portal"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Button>
                            <Button Name="OpenLayersButton" Width="72" Height="23" Margin="6,0,0,0" Content="OpenLayers" Visibility="{Binding Path=Type, Converter={StaticResource OpenLayersButtonVisibleConverter}}" Click="OpenLayersButton_Click" Tag="{Binding RealServiceURL}">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="Visualize OGC Service in OpenLayers"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Button>
                            <Button Name="WWTButton" Width="70" Height="23" Margin="6,0,0,0" Content="World Wide Telescope" Visibility="Collapsed" Click="WWTButton_Click" Tag="{Binding AccessURL}"/>
                            <Button Name="WWButton" Width="70" Height="23" Margin="6,0,0,0" Content="World Wind" Visibility="{Binding Path=Type, Converter={StaticResource OtherVisualizationViewerButtonVisibleConverter}}" Click="WWButton_Click" Tag="{Binding RealServiceURL}">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="Visualizing OGC Service in World Wind Web Version requires extra runtime enviroment and libs,"/>
                                            <ContentControl Content="clike 'help' hyperlink button for more informtion"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Button>
                            <Button Name="GetDataButton" MinWidth="70" Height="23" Margin="20,0,0,0" Content="{Binding AccessURL, Converter={StaticResource GetDataButtonTextContentConverter}}" Visibility="{Binding Path=Type, Converter={StaticResource GetDataButtonVisibleConverter}}" Tag="{Binding AccessURL}" Click="GetDataButton_Click">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="Download geodata"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Button>
                        </StackPanel>
                        <StackPanel Grid.Row="5" Grid.Column="2" Grid.ColumnSpan="1" Orientation="Horizontal" HorizontalAlignment="Right">
                            <Image Name="Image_DaraCORE" Width="50" Height="32" Source="/GeoSearch;component/images/ResourceIdentification/GEO_Data-CORE.png" Stretch="Fill" HorizontalAlignment="Left" Margin="0,0,5,5" Visibility="{Binding Path=isDataCore, Converter={StaticResource GESSDataCOREIconVisibleConverter}}">
                                <ToolTipService.ToolTip>
                                    <ToolTip Background="#FFFFFFAF">
                                        <StackPanel>
                                            <ContentControl Content="GEOSS Data-CORE"/>
                                        </StackPanel>
                                    </ToolTip >
                                </ToolTipService.ToolTip>
                            </Image>
                        </StackPanel>
                    </Grid>
                </DataTemplate>

                <DataTemplate x:Key="CatagoryPageTemplate">
                    <Grid Height="auto">
                        <Grid Height="auto">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="60"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center"  Width="800">
                                <TextBlock Text="Sort By" FontSize="12" FontWeight="Normal" Foreground="#C9000000" Margin="580,0,0,0" VerticalAlignment="Center" />
                                <ComboBox Width="160" Margin="10,0,0,0" FontSize="12" FontWeight="Normal" SelectedIndex="0" HorizontalAlignment="Left" SelectionChanged="ComboBox_SortBy_SelectionChanged">
                                    <ComboBoxItem IsEnabled="False">Default</ComboBoxItem>
                                    <ComboBoxItem>Relevance</ComboBoxItem>
                                    <ComboBoxItem>QoS</ComboBoxItem>
                                    <ComboBoxItem>Title</ComboBoxItem>
                                    <ComboBoxItem>Relevance and QoS</ComboBoxItem>
                                    <ComboBoxItem>Relevance and Title</ComboBoxItem>
                                    <ComboBoxItem>Source and Title</ComboBoxItem>
                                    <ComboBoxItem>Data-CORE and Relevance</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                            <ListBox Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Center" ItemTemplate="{StaticResource RecordTemplate}" ItemsSource="{Binding}" Margin="0" BorderThickness="0" IsHitTestVisible="True" />
                            <sdk:DataPager Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Bottom" MaxWidth="700" MaxHeight="300" FontSize="15"
                                    PageSize="10" AutoEllipsis="True" NumericButtonCount="11" DisplayMode="FirstLastPreviousNextNumeric" IsTotalItemCountFixed="True"/>
                        </Grid>
                    </Grid>
                </DataTemplate>
            </Grid.Resources>

            <Border Name="border_Header" Grid.Row="0" Grid.RowSpan="2" BorderBrush="Gray" BorderThickness="0" HorizontalAlignment="Center" VerticalAlignment="Top" Height="90" MinWidth="900" Background="#FFDEF0FF">
                <StackPanel>
                <StackPanel Height="65" HorizontalAlignment="Center" Name="stackPanel1" VerticalAlignment="Center" MinWidth="800" Orientation="Horizontal" Margin="44,0,0,0">
                    <Image Source="/GeoSearch;component/images/CISClogo.png" Height="50" Name="image1" Stretch="Fill" Width="100" Margin="3" />
                    <TextBox Height="40" Name="SearchContentTextBox" MinWidth="800" Margin="3" FontSize="21"/>
                    <StackPanel VerticalAlignment="Center" Margin="5,0,0,0">
                        <Button Content="Search" Height="25" Name="SearchButton" Width="100" Click="BasicSearching_Click"/>
                        <HyperlinkButton Name="AdvancedSearchButton" Content="Advanced Search" HorizontalAlignment="Center" VerticalAlignment="Center" Click="AdvancedSearch_Click"/>
                    </StackPanel>
                </StackPanel>
                <StackPanel Height="25" HorizontalAlignment="Center" Name="stackPanel_SearchStatus" Orientation="Horizontal">
                    <TextBlock Height="25" Name="SearchStatusTextBlock0" Text="Search Status:" FontSize="14" Width="auto" HorizontalAlignment="Left" Margin="100,0,5,0" TextAlignment="Center" VerticalAlignment="Stretch" FontWeight="Bold" Foreground="#C9000000" />
                    <TextBlock Height="25" Name="SearchStatusTextBlock" Text="In processing" FontSize="14" Width="auto" HorizontalAlignment="Left" Margin="5,0,5,0" TextAlignment="Center" VerticalAlignment="Stretch" FontWeight="Bold" Foreground="#C9000000" />
                    <TextBlock Height="25" Name="SearchSummaryTextBlock" Text="Found 32 results (0.2 seconds)" Width="auto" FontSize="13" HorizontalAlignment="Center" Margin="60,2,5,0" TextAlignment="Center" VerticalAlignment="Stretch" Foreground="#C9000000"/>
                    <HyperlinkButton Height="25" Name="SearchSummaryViewer" Content="Search Summary" Width="auto" FontSize="12" HorizontalAlignment="Center" Margin="50,2,5,0" VerticalAlignment="Stretch" Visibility="Collapsed" Click="SearchSummaryViewer_Click"/>
                    <HyperlinkButton Height="25" Name="NormalViewer_HyperlinkButton" Content="Normal Viewer" Width="auto" FontSize="12" HorizontalAlignment="Center" Margin="30,2,5,0" VerticalAlignment="Stretch" Visibility="Visible" IsEnabled="False" Click="NormalViewer_HyperlinkButton_Click"/>
                    <HyperlinkButton Height="25" Name="PivotViewer_HyperlinkButton" Content="Pivot Viewer" Width="auto" FontSize="12" HorizontalAlignment="Center" Margin="30,2,5,0" VerticalAlignment="Stretch" Visibility="Visible" IsEnabled="True" Click="PivotViewer_HyperlinkButton_Click"/>
                </StackPanel>
            </StackPanel> 
            </Border>

            <myWidgets:PivotViewerContainer x:Name="PivotViewer_Container" Grid.Row="2"  HorizontalAlignment="Center" Height="auto" VerticalAlignment="Center" Visibility="Collapsed"/>
            <Grid Name="Results_Container" HorizontalAlignment="Center" Height="auto" VerticalAlignment="Center" Grid.Row="2">
                <Grid Name="Grid_UnclassifiedContainer" Height="auto" HorizontalAlignment="Center" Visibility="Collapsed">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="20"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="40"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Name="StackPanel_SortBy" Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                        <TextBlock Name="TextBlock_SortBy" Text="Sort By" FontSize="12" FontWeight="Normal" Foreground="#C9000000" VerticalAlignment="Center"/>
                        <ComboBox Name="ComboBox_SortBy" Width="160" Margin="10,0,0,0" FontSize="12" FontWeight="Normal" SelectedIndex="0" HorizontalAlignment="Left" SelectionChanged="ComboBox_SortBy_SelectionChanged">
                            <ComboBoxItem IsEnabled="False">Default</ComboBoxItem>
                            <ComboBoxItem>Relevance</ComboBoxItem>
                            <ComboBoxItem>QoS</ComboBoxItem>
                            <ComboBoxItem>Title</ComboBoxItem>
                            <ComboBoxItem>Relevance and QoS</ComboBoxItem>
                            <ComboBoxItem>Relevance and Title</ComboBoxItem>
                            <ComboBoxItem>Source and Title</ComboBoxItem>
                            <ComboBoxItem>Data-CORE and Relevance</ComboBoxItem>
                        </ComboBox>
                    </StackPanel>
                <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Grid.Row="1" Padding="0" BorderThickness="0">
                    <StackPanel Name="ContentContainer" VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal">
                        <!--<Grid Name="ContentContainer" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40*"/>
                            <ColumnDefinition Width="60*"/>
                        </Grid.ColumnDefinitions>-->

                        <ListBox Name="RecordsList" ItemTemplate="{StaticResource RecordTemplate}" ItemsSource="{Binding}" Margin="0" BorderThickness="0" IsHitTestVisible="True" Grid.Column="0" HorizontalAlignment="Center"/>
                        <StackPanel Name="Map_Container_Container" Orientation="Horizontal" Grid.Column="1">
                            <!--<toolkit:Expander AllowDrop="True" ExpandDirection="Right" VerticalAlignment="Center">
                            </toolkit:Expander>-->
                        <Border Name="MetaDateDetail_Container" Margin="2" VerticalAlignment="Top" Visibility="Collapsed" BorderThickness="1" BorderBrush="Gray">
                        <Grid >
                            <Grid.RowDefinitions>
                                <RowDefinition Height="auto"/>
                                <RowDefinition />
                                <RowDefinition Height="auto"/>
                            </Grid.RowDefinitions>
                                <StackPanel Orientation="Horizontal" Grid.Row="0">
                                    <Image Stretch="Fill" Source="/GeoSearch;component/images/information.png" Height="24" Width="20" Margin="2,0,0,0"/>
                                    <TextBlock Text="Metadata Detail:" FontSize="14" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center"/>
                                </StackPanel>
                                <ScrollViewer Grid.Row="1" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                                    <sdk:TabControl>
                                        <sdk:TabItem x:Name="_FormTabItTem" Header="Form Style" Foreground="Black" FontSize="13">
                                            <myC:MetadataPanel HorizontalAlignment="Center" VerticalAlignment="Center" x:Name="myMetadataPanel"/>
                                        </sdk:TabItem>
                                        <sdk:TabItem x:Name="_XMLTabItTem" Header="XML Style" Foreground="Black" FontSize="13">
                                            <Grid x:Name="_Grid" Margin="5" Background="#FFDEF0FF">
                                                <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                                                    <TextBox Name="textBlock_metadataDetail_XML" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="12" Foreground="Black" Text="" TextWrapping="Wrap" Width="980" Height="auto" Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                                                </ScrollViewer>
                                            </Grid>
                                        </sdk:TabItem>
                                    </sdk:TabControl>
                                </ScrollViewer>
                                <Button x:Name="Button_HideMetaDataDetail" Content="Hide Metadata Detail" Height="23" Width="auto" HorizontalAlignment="Right" Margin="3" Grid.Row="2" Click="Button_HideMetaDataDetail_Click"/>
                            </Grid>
                         </Border>
                                    <Grid Name="button_Container">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="50*" />
                                    <RowDefinition Height="50*" />
                                </Grid.RowDefinitions>
                                <Button Grid.Row="1" Name="button_HideOrShowBingMap" Background="Black" HorizontalAlignment="Right" VerticalAlignment="Stretch" Click="button_HideOrShowBingMap_Click">
                                    <TextBlock Text="《"/>
                                    <ToolTipService.ToolTip>
                                        <ToolTip Background="#FFFFFFAF">
                                            <StackPanel>
                                                <ContentControl Content="Hide Bing Maps"/>
                                            </StackPanel>
                                        </ToolTip >
                                    </ToolTipService.ToolTip>
                                </Button>
                                <Button Grid.Row="0" Name="button_HideOrShowRecordsList" Background="Black" HorizontalAlignment="Right" VerticalAlignment="Stretch" Click="button_HideOrShowRecordsList_Click">
                                    <TextBlock Text="《"/>
                                    <ToolTipService.ToolTip>
                                        <ToolTip Background="#FFFFFFAF">
                                            <StackPanel>
                                                <ContentControl Content="Hide RecordsList"/>
                                            </StackPanel>
                                        </ToolTip >
                                    </ToolTipService.ToolTip>
                                </Button>
                            </Grid>
                            <Grid Name="Map_Container" Background="White" MinWidth="300" HorizontalAlignment="Center">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="20" />
                                    <RowDefinition Height="50" />
                                </Grid.RowDefinitions>
                                <m:Map CredentialsProvider="AuFyU6cj9lefQ5ZB5DTpktZmw_uwxqug3yK61ryx8zAXKjY27MIWuUfeFsXY0lc4" Name="myBingMap" Grid.Column="0" Grid.Row="0" Grid.RowSpan="3"/>
                                <StackPanel Orientation="Horizontal" Opacity="0.7" Grid.Column="0" Grid.Row="2" HorizontalAlignment="Left" Margin="80,0,0,0">
                                    <Button Opacity="0.7" Name="button_BingMapsFullScreen" Margin="5" Click="button_BingMapsFullScreen_Click" Height="32" Width="32">
                                        <Image Stretch="Fill" Source="/GeoSearch;component/images/BingMaps/FullScreen.png"/>
                                        <ToolTipService.ToolTip>
                                            <ToolTip Background="#FFFFFFAF">
                                                <StackPanel>
                                                    <ContentControl Content="Full-Screen Bing Maps"/>
                                                </StackPanel>
                                            </ToolTip >
                                        </ToolTipService.ToolTip>
                                    </Button>
                                    <Button Opacity="0.7" Name="button_BingMapsExitFullScreent" Margin="5" Click="button_BingMapsExitFullScreen_Click" Height="32" Width="32" Visibility="Collapsed">
                                        <Image Stretch="Fill" Source="/GeoSearch;component/images/BingMaps/FullScreenExit.png"/>
                                        <ToolTipService.ToolTip>
                                            <ToolTip Background="#FFFFFFAF">
                                                <StackPanel>
                                                    <ContentControl Content="Exit Full-Screen"/>
                                                </StackPanel>
                                            </ToolTip >
                                        </ToolTipService.ToolTip>
                                    </Button>
                                    <Button Opacity="0.7" Name="button_ShowWMSLayersControl" Margin="5" Click="button_ShowWMSLayersControl_Click"  Height="32" Width="32" Padding="0">
                                        <Image Stretch="Fill" Source="/GeoSearch;component/images/resourceTypes/Layers-icon.png"/>
                                        <ToolTipService.ToolTip>
                                            <ToolTip Background="#FFFFFFAF">
                                                <StackPanel>
                                                    <ContentControl Content="Show WMS Layers Control"/>
                                                </StackPanel>
                                            </ToolTip >
                                        </ToolTipService.ToolTip>
                                    </Button>
                                    <Button Opacity="0.7" Name="button_ShowWMSAnimationControl" Margin="5" Height="32" Width="32" Padding="0" IsEnabled="False" Click="button_ShowWMSAnimationControl_Click">
                                        <Image Stretch="Fill" Source="/GeoSearch;component/images/BingMaps/Actions-player.png"/>
                                        <ToolTipService.ToolTip>
                                            <ToolTip Background="#FFFFFFAF">
                                                <StackPanel>
                                                    <ContentControl Content="Show WMS Layers Animation Control"/>
                                                </StackPanel>
                                            </ToolTip >
                                        </ToolTipService.ToolTip>
                                    </Button>
                                    <Button Opacity="0.7" Name="button_ClearAllWMSLayers" Margin="5" Click="button_ClearAllWMSLayers_Click"  Height="32" Width="32">
                                        <Image Stretch="Fill" Source="/GeoSearch;component/images/BingMaps/Trash-icon.png"/>
                                        <ToolTipService.ToolTip>
                                            <ToolTip Background="#FFFFFFAF">
                                                <StackPanel>
                                                    <ContentControl Content="Clear all WMS Layers from Bing Maps"/>
                                                </StackPanel>
                                            </ToolTip >
                                        </ToolTipService.ToolTip>
                                    </Button>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Opacity="0.9" Grid.Column="0" Grid.Row="1" HorizontalAlignment="Center">
                                    <TextBlock Text="Latitude: " Padding="5" Foreground="Black"/>
                                    <TextBox x:Name="txtLatitude" Text="" IsReadOnly="True" Background="LightGray"/>
                                    <TextBlock Text="Longitude: " Padding="5" Foreground="Black" />
                                    <TextBox x:Name="txtLongitude" Text="" IsReadOnly="True" Background="LightGray"/>
                                </StackPanel>
                                <StackPanel Name="LeftContainerOnTopOfBingMaps_StackPanel" Grid.Column="0" Grid.Row="0" Grid.RowSpan="3" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="30,65,0,0">
                                    <Border x:Name="LayerBorder" Width="300" Height="385" Background="Black" Opacity="0.7" BorderBrush="White" BorderThickness="2" CornerRadius="5" Visibility="Collapsed">
                                        <StackPanel>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="40" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="25" />
                                                </Grid.ColumnDefinitions>
                                                <Image Stretch="Fill" Source="/GeoSearch;component/images/resourceTypes/Layers-icon.png" Grid.Column="0" Margin="3,3,3,0" Height="26" Width="26" VerticalAlignment="Center"/>
                                                <TextBlock x:Name="Title_TextBlock" Foreground="White" FontSize="13" Width="auto" TextWrapping="Wrap" Grid.Column="1" HorizontalAlignment="Center" Text="WMS Layers" FontWeight="Bold" VerticalAlignment="Center"/>
                                                <Button Name="button_CloseLayerBorder" Tag="Close" Margin="5,0,5,0" Background="Black" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Column="2" Click="button_CloseLayerBorder_Click">
                                                    <TextBlock>X</TextBlock>
                                                </Button>
                                            </Grid>
                                            <Rectangle Fill="White" Height="1" Width="auto" Margin="0,3,0,3" />
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                <TextBlock Name="WMSLayersOpacity_TextBlock" Text="Opacity:" VerticalAlignment="Center" Foreground="White" FontWeight="Normal" Width="auto" FontSize="12">
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip Background="#FFFFFFAF">
                                                            <StackPanel>
                                                                <ContentControl Content="The opacity of layers"/>
                                                            </StackPanel>
                                                        </ToolTip >
                                                    </ToolTipService.ToolTip>
                                                </TextBlock>
                                                <TextBlock Margin="10,0,0,0"  Text="0" VerticalAlignment="Center" Foreground="White" FontWeight="Normal" Width="auto" FontSize="11">
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip Background="#FFFFFFAF">
                                                            <StackPanel>
                                                                <ContentControl Content="Transparent"/>
                                                            </StackPanel>
                                                        </ToolTip >
                                                    </ToolTipService.ToolTip>
                                                </TextBlock>
                                                <Slider Name="WMSLayersOpacity_Slider" Width="160" HorizontalAlignment="Left" Minimum="0" Maximum="1" Value="0.5" ValueChanged="WMSLayersOpacity_Slider_ValueChanged"/>
                                                <TextBlock Text="1" VerticalAlignment="Center" Foreground="White" FontWeight="Normal" Width="auto" FontSize="11">
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip Background="#FFFFFFAF">
                                                            <StackPanel>
                                                                <ContentControl Content="Opacity"/>
                                                            </StackPanel>
                                                        </ToolTip >
                                                    </ToolTipService.ToolTip>
                                                </TextBlock>
                                            </StackPanel>
                                            <Rectangle Fill="White" Height="1" Width="auto" Margin="0,3,0,3" />
                                            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto"  Height="320" Name="WMSLayers_BingMaps_ScrollViewer" Padding="0" Margin="0" BorderThickness="0">
                                                <sdk:TreeView VerticalAlignment="Top" Name="Layers_Treeview" Background="Black" Padding="0" Margin="0" BorderThickness="0"/>
                                            </ScrollViewer>
                                        </StackPanel>
                                    </Border>

                                    <Border x:Name="AnimationControlBorder" Margin="0,6,0,0" Width="300" Height="170" Background="Black" Opacity="0.7" BorderBrush="White" BorderThickness="2" CornerRadius="5" Visibility="Collapsed">
                                        <StackPanel>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="40" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="25" />
                                                </Grid.ColumnDefinitions>
                                                <Image Stretch="Fill" Source="/GeoSearch;component/images/BingMaps/Actions-player.png" Grid.Column="0" Margin="3,3,3,0" Height="24" Width="24" VerticalAlignment="Center"/>
                                                <TextBlock x:Name="AnimatiobTitle_TextBlock" Foreground="White" FontSize="13" Width="auto" TextWrapping="Wrap" Grid.Column="1" HorizontalAlignment="Center" Text="Time-enable Layers Animation" FontWeight="Bold" VerticalAlignment="Center"/>
                                                <Button Name="button_CloseAnimationControlBorder" Tag="Close" Margin="5,0,5,0" Background="Black" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Column="2" Click="button_CloseAnimationControlBorder_Click">
                                                    <TextBlock>X</TextBlock>
                                                </Button>
                                            </Grid>
                                            <Rectangle Fill="White" Height="1" Width="auto" Margin="0,3,0,3" />

                                            <!--<sdk:DatePicker Name="datePicker_From_ForAnimation" FontSize="11" FontWeight="Normal" HorizontalAlignment="Left" Margin="2,0,0,0" VerticalAlignment="Center" Width="95" Style="{StaticResource DatePickerStyle_UnEditable}" SelectedDateChanged="datePicker_From_ForAnimation_SelectedDateChanged"/>-->
                                            <Grid Margin="10,0,0,0">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="auto" />
                                                    <ColumnDefinition Width="auto" />
                                                    <ColumnDefinition Width="auto" />
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="auto" />
                                                    <RowDefinition Height="auto" />
                                                    <RowDefinition Height="auto" />
                                                    <RowDefinition Height="auto" />
                                                </Grid.RowDefinitions>
                                                <!--Row 1-->
                                                <TextBlock Name="Timespan_From_TextBlock" Foreground="White" FontSize="12" Width="auto" HorizontalAlignment="Left" Text="From:" FontWeight="Normal" VerticalAlignment="Center" Grid.Row="0" Grid.Column="0">
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip Background="#FFFFFFAF">
                                                            <StackPanel>
                                                                <ContentControl Content="The day animation start from"/>
                                                            </StackPanel>
                                                        </ToolTip >
                                                    </ToolTipService.ToolTip>
                                                </TextBlock>
                                                <sdk:DatePicker Name="datePicker_From_ForAnimation" FontSize="11" FontWeight="Normal" HorizontalAlignment="Left" Margin="2,0,0,0" VerticalAlignment="Center" Width="95" SelectedDateChanged="datePicker_From_ForAnimation_SelectedDateChanged" Grid.Row="0" Grid.Column="1"/>
                                                <Slider Name="AnimationDateFrom_Slider" Width="130" HorizontalAlignment="Left" Margin="2,0,0,0" Minimum="0" Maximum="10" Value="0" ValueChanged="AnimationDateFrom_Slider_ValueChanged" Grid.Row="0" Grid.Column="2"/>

                                                <!--Row 2-->
                                                <TextBlock Name="Timespan_To_TextBlock" Text="To:" VerticalAlignment="Center" Foreground="White" FontWeight="Normal" Width="auto" Grid.Row="1" Grid.Column="0">
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip Background="#FFFFFFAF">
                                                            <StackPanel>
                                                                <ContentControl Content="The day animation end with"/>
                                                            </StackPanel>
                                                        </ToolTip >
                                                    </ToolTipService.ToolTip>
                                                </TextBlock>
                                                <sdk:DatePicker Name="datePicker_To_ForAnimation" FontSize="11" FontWeight="Normal" HorizontalAlignment="Left" Margin="2,0,0,0" VerticalAlignment="Center" Width="95" SelectedDateChanged="datePicker_To_ForAnimation_SelectedDateChanged" Grid.Row="1" Grid.Column="1"/>
                                                <Slider Name="AnimationDateTo_Slider" Width="130" HorizontalAlignment="Left" Margin="2,0,0,0" Minimum="0" Maximum="10" Value="0" ValueChanged="AnimationDateTo_Slider_ValueChanged" Grid.Row="1" Grid.Column="2"/>

                                                <!--Row 3-->
                                                <TextBlock Foreground="White" FontSize="12" Width="auto" HorizontalAlignment="Left" Text="Speed:" FontWeight="Normal" VerticalAlignment="Center" Grid.Row="2" Grid.Column="0">
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip Background="#FFFFFFAF">
                                                            <StackPanel>
                                                                <ContentControl Content="The time interval to change the layers(From 1s to 10s)"/>
                                                            </StackPanel>
                                                        </ToolTip >
                                                    </ToolTipService.ToolTip>
                                                </TextBlock>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2">
                                                    <TextBlock Foreground="White" FontSize="11" Width="30" HorizontalAlignment="Center" Text="1s" FontWeight="Normal" VerticalAlignment="Center" TextAlignment="Center">
                                                        <ToolTipService.ToolTip>
                                                            <ToolTip Background="#FFFFFFAF">
                                                                <StackPanel>
                                                                    <ContentControl Content="Quick"/>
                                                                </StackPanel>
                                                            </ToolTip >
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>
                                                    <Slider Name="AnimationTimeInterval_Slider" Width="175" HorizontalAlignment="Left" Minimum="1" Maximum="10" Value="5"/>
                                                    <TextBlock Foreground="White" FontSize="11" Width="30" HorizontalAlignment="Center" Text="10s" FontWeight="Normal" VerticalAlignment="Center" TextAlignment="Center">
                                                        <ToolTipService.ToolTip>
                                                            <ToolTip Background="#FFFFFFAF">
                                                                <StackPanel>
                                                                    <ContentControl Content="Slow"/>
                                                                </StackPanel>
                                                            </ToolTip >
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>
                                                </StackPanel>

                                                <!--Row 4-->
                                                <TextBlock Foreground="White" FontSize="12" Width="auto" HorizontalAlignment="Left" Text="Opacity:" FontWeight="Normal" VerticalAlignment="Center" Grid.Row="3" Grid.Column="0">
                                                        <ToolTipService.ToolTip>
                                                            <ToolTip Background="#FFFFFFAF">
                                                                <StackPanel>
                                                                    <ContentControl Content="The opacity of WMS animation layers"/>
                                                                </StackPanel>
                                                            </ToolTip >
                                                        </ToolTipService.ToolTip>
                                                </TextBlock>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="2">
                                                    <TextBlock Foreground="White" FontSize="11" Width="30" HorizontalAlignment="Center" Text="0" FontWeight="Normal" VerticalAlignment="Center" TextAlignment="Center">
                                                        <ToolTipService.ToolTip>
                                                            <ToolTip Background="#FFFFFFAF">
                                                                <StackPanel>
                                                                    <ContentControl Content="Transparent"/>
                                                                </StackPanel>
                                                            </ToolTip >
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>
                                                    <Slider Name="WMSAnimationLayersOpacity_Slider" Width="175" HorizontalAlignment="Left" Minimum="0" Maximum="1" Value="0.6" ValueChanged="WMSAnimationLayersOpacity_Slider_ValueChanged"/>
                                                    <TextBlock Foreground="White" FontSize="11" Width="20" HorizontalAlignment="Center" Text="1" FontWeight="Normal" VerticalAlignment="Center" TextAlignment="Center">
                                                        <ToolTipService.ToolTip>
                                                            <ToolTip Background="#FFFFFFAF">
                                                                <StackPanel>
                                                                    <ContentControl Content="Opacity"/>
                                                                </StackPanel>
                                                            </ToolTip >
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>
                                                </StackPanel>
                                            </Grid>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10,0,0,0">
                                                <Button Name="button_Animation_Start" Margin="5,2,5,2" Height="26" Width="26" Click="button_Animation_Start_Click">
                                                    <Image Stretch="Fill" Source="/GeoSearch;component/images/BingMaps/Animation/Play.png"/>
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip Background="#FFFFFFAF">
                                                            <StackPanel>
                                                                <ContentControl Content="Start Animation"/>
                                                            </StackPanel>
                                                        </ToolTip >
                                                    </ToolTipService.ToolTip>
                                                </Button>
                                                <Button Name="button_Animation_Pause" Margin="5,2,5,2" Height="26" Width="26" IsEnabled="False" Click="button_Animation_Pause_Click">
                                                    <Image Stretch="Fill" Source="/GeoSearch;component/images/BingMaps/Animation/Pause.png"/>
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip Background="#FFFFFFAF">
                                                            <StackPanel>
                                                                <ContentControl Content="Pause Animation"/>
                                                            </StackPanel>
                                                        </ToolTip >
                                                    </ToolTipService.ToolTip>
                                                </Button>
                                                <Button Name="button_Animation_Stop" Margin="5,2,5,2" Height="26" Width="26" IsEnabled="False" Click="button_Animation_Stop_Click">
                                                    <Image Stretch="Fill" Source="/GeoSearch;component/images/BingMaps/Animation/Stop.png"/>
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip Background="#FFFFFFAF">
                                                            <StackPanel>
                                                                <ContentControl Content="Stop Animation"/>
                                                            </StackPanel>
                                                        </ToolTip >
                                                    </ToolTipService.ToolTip>
                                                </Button>
                                                <Button Name="button_Animation_Previous" Margin="5,2,5,2" Height="26" Width="26" IsEnabled="False" Click="button_Animation_Previous_Click">
                                                    <Image Stretch="Fill" Source="/GeoSearch;component/images/BingMaps/Animation/Backward.png"/>
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip Background="#FFFFFFAF">
                                                            <StackPanel>
                                                                <ContentControl Content="Previous"/>
                                                            </StackPanel>
                                                        </ToolTip >
                                                    </ToolTipService.ToolTip>
                                                </Button>
                                                <Button Name="button_Animation_Next" Margin="5,2,5,2" Height="26" Width="26" IsEnabled="False" Click="button_Animation_Next_Click">
                                                    <Image Stretch="Fill" Source="/GeoSearch;component/images/BingMaps/Animation/Forward.png"/>
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip Background="#FFFFFFAF">
                                                            <StackPanel>
                                                                <ContentControl Content="Next"/>
                                                            </StackPanel>
                                                        </ToolTip >
                                                    </ToolTipService.ToolTip>
                                                </Button>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10,0,0,0">
                                                <TextBlock Foreground="White" FontSize="12" Width="auto" Grid.Column="1" HorizontalAlignment="Center" Text="Current time: " FontWeight="Normal" VerticalAlignment="Center">
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip Background="#FFFFFFAF">
                                                            <StackPanel>
                                                                <ContentControl Content="Current time in Animation"/>
                                                            </StackPanel>
                                                        </ToolTip >
                                                    </ToolTipService.ToolTip>
                                                </TextBlock>
                                                <TextBlock Name="CurrentTimeName_TextBlock"  Foreground="White" FontSize="12" Width="auto" Grid.Column="1" HorizontalAlignment="Center" Text="" VerticalAlignment="Center"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                                <StackPanel Name="RightContainerOnTopOfBingMaps_StackPanel" Grid.Column="0" Grid.Row="0" Grid.RowSpan="3" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,80,20,0">
                                </StackPanel> 
                            </Grid>
                        </StackPanel>
                    </StackPanel>
                    </ScrollViewer>
                        <!--</Grid>-->
                <sdk:DataPager x:Name="dataPager1" Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Bottom" MaxWidth="700" MaxHeight="300" FontSize="15"
                    PageSize="10"
                    AutoEllipsis="True"
                    NumericButtonCount="11"
                    DisplayMode="FirstLastPreviousNextNumeric"
                    IsTotalItemCountFixed="True"/>
                </Grid>
                <sdk:TabControl Name="TabControl_CategoryPage" HorizontalAlignment="Center" BorderThickness="0" Padding="0">
                    <sdk:TabItem x:Name="TabItem_Datasets" Visibility="Collapsed">
                        <sdk:TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <Image Height="20" Width="20" Stretch="Fill" Source="/GeoSearch;component/images/resourceTypes/dataset1.png" VerticalAlignment="Center"/>
                                <TextBlock Text="Datasets" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                                <TextBlock Text="" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                            </StackPanel>
                        </sdk:TabItem.Header>
                        <Grid Height="auto">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="40"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                                <TextBlock Text="Sort By" FontSize="12" FontWeight="Normal" Foreground="#C9000000" VerticalAlignment="Center" />
                                <ComboBox Width="160" Margin="10,0,0,0" FontSize="12" FontWeight="Normal" SelectedIndex="0" HorizontalAlignment="Left" SelectionChanged="ComboBox_SortBy_SelectionChanged">
                                    <ComboBoxItem IsEnabled="False">Default</ComboBoxItem>
                                    <ComboBoxItem>Relevance</ComboBoxItem>
                                    <ComboBoxItem>QoS</ComboBoxItem>
                                    <ComboBoxItem>Title</ComboBoxItem>
                                    <ComboBoxItem>Relevance and QoS</ComboBoxItem>
                                    <ComboBoxItem>Relevance and Title</ComboBoxItem>
                                    <ComboBoxItem>Source and Title</ComboBoxItem>
                                    <ComboBoxItem>Data-CORE and Relevance</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                        <!--<StackPanel Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal">
                            <ListBox  ItemTemplate="{StaticResource RecordTemplate}" ItemsSource="{Binding}" Margin="0" BorderThickness="0" IsHitTestVisible="True" HorizontalAlignment="Center"/>
                        </StackPanel>-->
                        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Grid.Row="1" Padding="0" BorderThickness="0">
                            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal">
                                <ListBox  ItemTemplate="{StaticResource RecordTemplate}" ItemsSource="{Binding}" Margin="0" BorderThickness="0" IsHitTestVisible="True" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </ScrollViewer>
                            <sdk:DataPager Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Bottom" MaxWidth="700" MaxHeight="300" FontSize="15"
                                    PageSize="10" AutoEllipsis="True" NumericButtonCount="11" DisplayMode="FirstLastPreviousNextNumeric" IsTotalItemCountFixed="True"/>
                        </Grid>
                    </sdk:TabItem>
                    <sdk:TabItem x:Name="TabItem_WebServices" Visibility="Collapsed">
                        <sdk:TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <Image Height="20" Width="20" Stretch="Fill" Source="/GeoSearch;component/images/resourceTypes/network_Service.png" VerticalAlignment="Center"/>
                                <TextBlock Text="Web Services" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                                <TextBlock Text="" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                            </StackPanel>
                        </sdk:TabItem.Header>
                        <Grid Height="auto">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="40"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                                <TextBlock Text="Sort By" FontSize="12" FontWeight="Normal" Foreground="#C9000000" VerticalAlignment="Center" />
                                <ComboBox Width="160" Margin="10,0,0,0" FontSize="12" FontWeight="Normal" SelectedIndex="0" HorizontalAlignment="Left" SelectionChanged="ComboBox_SortBy_SelectionChanged">
                                    <ComboBoxItem IsEnabled="False">Default</ComboBoxItem>
                                    <ComboBoxItem>Relevance</ComboBoxItem>
                                    <ComboBoxItem>QoS</ComboBoxItem>
                                    <ComboBoxItem>Title</ComboBoxItem>
                                    <ComboBoxItem>Relevance and QoS</ComboBoxItem>
                                    <ComboBoxItem>Relevance and Title</ComboBoxItem>
                                    <ComboBoxItem>Source and Title</ComboBoxItem>
                                    <ComboBoxItem>Data-CORE and Relevance</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Grid.Row="1" Padding="0" BorderThickness="0">
                            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal">
                                <ListBox  ItemTemplate="{StaticResource RecordTemplate}" ItemsSource="{Binding}" Margin="0" BorderThickness="0" IsHitTestVisible="True" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </ScrollViewer>
                            <sdk:DataPager Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Bottom" MaxWidth="700" MaxHeight="300" FontSize="15"
                            PageSize="10"
                            AutoEllipsis="True"
                            NumericButtonCount="11"
                            DisplayMode="FirstLastPreviousNextNumeric"
                            IsTotalItemCountFixed="True"/>
                        </Grid>
                    </sdk:TabItem>
                    <sdk:TabItem x:Name="TabItem_MonitoringAndObservationSystems" Visibility="Collapsed">
                        <sdk:TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <Image Height="20" Width="20" Stretch="Fill" Source="/GeoSearch;component/images/resourceTypes/exec.png" VerticalAlignment="Center"/>
                                <TextBlock Text="Monitoring and Observation Systems" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                                <TextBlock Text="" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                            </StackPanel>
                        </sdk:TabItem.Header>
                        <Grid Height="auto">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="40"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                                <TextBlock Text="Sort By" FontSize="12" FontWeight="Normal" Foreground="#C9000000" VerticalAlignment="Center" />
                                <ComboBox Width="160" Margin="10,0,0,0" FontSize="12" FontWeight="Normal" SelectedIndex="0" HorizontalAlignment="Left" SelectionChanged="ComboBox_SortBy_SelectionChanged">
                                    <ComboBoxItem IsEnabled="False">Default</ComboBoxItem>
                                    <ComboBoxItem>Relevance</ComboBoxItem>
                                    <ComboBoxItem>QoS</ComboBoxItem>
                                    <ComboBoxItem>Title</ComboBoxItem>
                                    <ComboBoxItem>Relevance and QoS</ComboBoxItem>
                                    <ComboBoxItem>Relevance and Title</ComboBoxItem>
                                    <ComboBoxItem>Source and Title</ComboBoxItem>
                                    <ComboBoxItem>Data-CORE and Relevance</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Grid.Row="1" Padding="0" BorderThickness="0">
                            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal">
                                <ListBox  ItemTemplate="{StaticResource RecordTemplate}" ItemsSource="{Binding}" Margin="0" BorderThickness="0" IsHitTestVisible="True" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </ScrollViewer>
                        <sdk:DataPager Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Bottom" MaxWidth="700" MaxHeight="300" FontSize="15"
                            PageSize="10"
                            AutoEllipsis="True"
                            NumericButtonCount="11"
                            DisplayMode="FirstLastPreviousNextNumeric"
                            IsTotalItemCountFixed="True"/>
                        </Grid>
                    </sdk:TabItem>
                    <sdk:TabItem x:Name="TabItem_ComputationalModel" Visibility="Collapsed">
                        <sdk:TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <Image Height="20" Width="20" Stretch="Fill" Source="/GeoSearch;component/images/resourceTypes/models.png" VerticalAlignment="Center"/>
                                <TextBlock Text="Computational Model" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                                <TextBlock Text="" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                            </StackPanel>
                        </sdk:TabItem.Header>
                        <Grid Height="auto">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="40"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                                <TextBlock Text="Sort By" FontSize="12" FontWeight="Normal" Foreground="#C9000000" VerticalAlignment="Center" />
                                <ComboBox Width="160" Margin="10,0,0,0" FontSize="12" FontWeight="Normal" SelectedIndex="0" HorizontalAlignment="Left" SelectionChanged="ComboBox_SortBy_SelectionChanged">
                                    <ComboBoxItem IsEnabled="False">Default</ComboBoxItem>
                                    <ComboBoxItem>Relevance</ComboBoxItem>
                                    <ComboBoxItem>QoS</ComboBoxItem>
                                    <ComboBoxItem>Title</ComboBoxItem>
                                    <ComboBoxItem>Relevance and QoS</ComboBoxItem>
                                    <ComboBoxItem>Relevance and Title</ComboBoxItem>
                                    <ComboBoxItem>Source and Title</ComboBoxItem>
                                    <ComboBoxItem>Data-CORE and Relevance</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Grid.Row="1" Padding="0" BorderThickness="0">
                            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal">
                                <ListBox  ItemTemplate="{StaticResource RecordTemplate}" ItemsSource="{Binding}" Margin="0" BorderThickness="0" IsHitTestVisible="True" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </ScrollViewer>
                            <sdk:DataPager Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Bottom" MaxWidth="700" MaxHeight="300" FontSize="15"
                            PageSize="10"
                            AutoEllipsis="True"
                            NumericButtonCount="11"
                            DisplayMode="FirstLastPreviousNextNumeric"
                            IsTotalItemCountFixed="True"/>
                        </Grid>
                    </sdk:TabItem>
                    <sdk:TabItem x:Name="TabItem_Initiatives" Visibility="Collapsed">
                        <sdk:TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <Image Height="20" Width="20" Stretch="Fill" Source="/GeoSearch;component/images/resourceTypes/Initiatives.png" VerticalAlignment="Center"/>
                                <TextBlock Text="Initiatives" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                                <TextBlock Text="" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                            </StackPanel>
                        </sdk:TabItem.Header>
                        <Grid Height="auto">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="40"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                                <TextBlock Text="Sort By" FontSize="12" FontWeight="Normal" Foreground="#C9000000" VerticalAlignment="Center" />
                                <ComboBox Width="160" Margin="10,0,0,0" FontSize="12" FontWeight="Normal" SelectedIndex="0" HorizontalAlignment="Left" SelectionChanged="ComboBox_SortBy_SelectionChanged">
                                    <ComboBoxItem IsEnabled="False">Default</ComboBoxItem>
                                    <ComboBoxItem>Relevance</ComboBoxItem>
                                    <ComboBoxItem>QoS</ComboBoxItem>
                                    <ComboBoxItem>Title</ComboBoxItem>
                                    <ComboBoxItem>Relevance and QoS</ComboBoxItem>
                                    <ComboBoxItem>Relevance and Title</ComboBoxItem>
                                    <ComboBoxItem>Source and Title</ComboBoxItem>
                                    <ComboBoxItem>Data-CORE and Relevance</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Grid.Row="1" Padding="0" BorderThickness="0">
                            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal">
                                <ListBox  ItemTemplate="{StaticResource RecordTemplate}" ItemsSource="{Binding}" Margin="0" BorderThickness="0" IsHitTestVisible="True" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </ScrollViewer>
                            <sdk:DataPager Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Bottom" MaxWidth="700" MaxHeight="300" FontSize="15"
                            PageSize="10"
                            AutoEllipsis="True"
                            NumericButtonCount="11"
                            DisplayMode="FirstLastPreviousNextNumeric"
                            IsTotalItemCountFixed="True"/>
                        </Grid>
                    </sdk:TabItem>
                    <sdk:TabItem x:Name="TabItem_WebsitesAndDocuments" Visibility="Collapsed">
                        <sdk:TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <Image Height="20" Width="20" Stretch="Fill" Source="/GeoSearch;component/images/resourceTypes/websitesAndDocuments.png" VerticalAlignment="Center"/>
                                <TextBlock Text="Websites and Documents" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                                <TextBlock Text="" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                            </StackPanel>
                        </sdk:TabItem.Header>
                        <Grid Height="auto">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="40"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                                <TextBlock Text="Sort By" FontSize="12" FontWeight="Normal" Foreground="#C9000000" VerticalAlignment="Center" />
                                <ComboBox Width="160" Margin="10,0,0,0" FontSize="12" FontWeight="Normal" SelectedIndex="0" HorizontalAlignment="Left" SelectionChanged="ComboBox_SortBy_SelectionChanged">
                                    <ComboBoxItem IsEnabled="False">Default</ComboBoxItem>
                                    <ComboBoxItem>Relevance</ComboBoxItem>
                                    <ComboBoxItem>QoS</ComboBoxItem>
                                    <ComboBoxItem>Title</ComboBoxItem>
                                    <ComboBoxItem>Relevance and QoS</ComboBoxItem>
                                    <ComboBoxItem>Relevance and Title</ComboBoxItem>
                                    <ComboBoxItem>Source and Title</ComboBoxItem>
                                    <ComboBoxItem>Data-CORE and Relevance</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Grid.Row="1" Padding="0" BorderThickness="0">
                            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal">
                                <ListBox  ItemTemplate="{StaticResource RecordTemplate}" ItemsSource="{Binding}" Margin="0" BorderThickness="0" IsHitTestVisible="True" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </ScrollViewer>
                        <sdk:DataPager Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Bottom" MaxWidth="700" MaxHeight="300" FontSize="15"
                            PageSize="10"
                            AutoEllipsis="True"
                            NumericButtonCount="11"
                            DisplayMode="FirstLastPreviousNextNumeric"
                            IsTotalItemCountFixed="True"/>
                        </Grid>
                    </sdk:TabItem>
                    <sdk:TabItem x:Name="TabItem_SoftwareAndApplications" Visibility="Collapsed">
                        <sdk:TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <Image Height="20" Width="20" Stretch="Fill" Source="/GeoSearch;component/images/resourceTypes/applications.png" VerticalAlignment="Center"/>
                                <TextBlock Text="Software and Applications" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                                <TextBlock Text="" FontSize="14" FontWeight="Normal" VerticalAlignment="Center" Margin="3,0,0,0"/>
                            </StackPanel>
                        </sdk:TabItem.Header>
                        <Grid Height="auto">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="40"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                                <TextBlock Text="Sort By" FontSize="12" FontWeight="Normal" Foreground="#C9000000" VerticalAlignment="Center" />
                                <ComboBox Width="160" Margin="10,0,0,0" FontSize="12" FontWeight="Normal" SelectedIndex="0" HorizontalAlignment="Left" SelectionChanged="ComboBox_SortBy_SelectionChanged">
                                    <ComboBoxItem IsEnabled="False">Default</ComboBoxItem>
                                    <ComboBoxItem>Relevance</ComboBoxItem>
                                    <ComboBoxItem>QoS</ComboBoxItem>
                                    <ComboBoxItem>Title</ComboBoxItem>
                                    <ComboBoxItem>Relevance and QoS</ComboBoxItem>
                                    <ComboBoxItem>Relevance and Title</ComboBoxItem>
                                    <ComboBoxItem>Source and Title</ComboBoxItem>
                                    <ComboBoxItem>Data-CORE and Relevance</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Grid.Row="1" Padding="0" BorderThickness="0">
                            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal">
                                <ListBox  ItemTemplate="{StaticResource RecordTemplate}" ItemsSource="{Binding}" Margin="0" BorderThickness="0" IsHitTestVisible="True" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </ScrollViewer>
                            <sdk:DataPager Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Bottom" MaxWidth="700" MaxHeight="300" FontSize="15"
                            PageSize="10"
                            AutoEllipsis="True"
                            NumericButtonCount="11"
                            DisplayMode="FirstLastPreviousNextNumeric"
                            IsTotalItemCountFixed="True"/>
                        </Grid>
                    </sdk:TabItem>
                </sdk:TabControl>
            </Grid>

            <Border Name="border_Bottom" Grid.Row="3" HorizontalAlignment="Center" VerticalAlignment="Center" BorderBrush="Gray" BorderThickness="0" Background="#FFDEF0FF" Height="40">
                <StackPanel  Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                <HyperlinkButton Content="About CISC" NavigateUri="http://cisc.gmu.edu/" TargetName="AboutCISC">
                    <ToolTipService.ToolTip>
                        <ToolTip Background="#FFFFFFAF">
                            <StackPanel>
                                <ContentControl Content="Center of Intelligent Spatial Computing for Water/Energy Science"/>
                            </StackPanel>
                        </ToolTip >
                    </ToolTipService.ToolTip>
                </HyperlinkButton>
                <HyperlinkButton Content="Help" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20,0,0,0" Click="HyperlinkButton_Click_Help" TargetName="AboutHelp" />
                </StackPanel>
            </Border>
            
            <Grid Name="ContainerForMetadataDetail_FloatableWindows" Grid.Row="0" Grid.Column="0" Grid.RowSpan="4" VerticalAlignment="Top" Margin="0,100,0,20">
            </Grid>
        </Grid>
    <!--</ScrollViewer>-->
</UserControl>
